<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="author" content="Travis Ard">
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="robots" content="all" />
    
    <title></title>
    
    <!-- IE HTML5 support fixes -->
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script><![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
    <script src="koko.js" type="text/javascript"></script>
    <script type="text/javascript">

        koko.require('./adapter.js');

        var myView = koko.defineView('myView', function() {            
            this.loadMap = function(address) {
                var mapData = {'address':address};
                mapData.destCanvas = document.getElementById('map');
                $('#caption>span').attr('innerHTML', 'Loading map...');
                this.dispatchEvent('Adapter:GoogleMaps:loadMap', mapData);
            };
        });
        
        $(document).ready(function() {
            $('#map>span').click(function() { myView.loadMap('salem, mo') });
        });

    </script>
    
</head>
<body>
    <div id="caption"><span></span></div>
    <div id="map" style="width: 100%; height: 800px;"><span>Load Map</span></div>
</body>
</html>